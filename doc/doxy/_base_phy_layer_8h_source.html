<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Veins: BasePhyLayer.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Veins
   </div>
   <div id="projectbrief">The open source vehicular network simulation framework.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_base_phy_layer_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">BasePhyLayer.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_base_phy_layer_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Copyright (C) 2007 Technische Universitaet Berlin (TUB), Germany, Telecommunication Networks Group</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Copyright (C) 2007 Technische Universiteit Delft (TUD), Netherlands</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// Copyright (C) 2007 Universitaet Paderborn (UPB), Germany</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// Documentation for these modules is at http://veins.car2x.org/</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// SPDX-License-Identifier: GPL-2.0-or-later</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This program is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// the Free Software Foundation; either version 2 of the License, or</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// (at your option) any later version.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// GNU General Public License for more details.</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// along with this program; if not, write to the Free Software</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="veins_8h.html">veins/veins.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_channel_access_8h.html">veins/base/connectionManager/ChannelAccess.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_decider_to_phy_interface_8h.html">veins/base/phyLayer/DeciderToPhyInterface.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_mac_to_phy_interface_8h.html">veins/base/phyLayer/MacToPhyInterface.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_antenna_8h.html">veins/base/phyLayer/Antenna.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_channel_info_8h.html">veins/base/phyLayer/ChannelInfo.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceveins.html">veins</a> {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">class </span>Decider;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">class </span>BaseWorldUtility;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">// class omnetpp::cXMLElement;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">class </span>AirFrame;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keyword">class </span>ChannelAccess;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">class </span>Radio;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"> * The BasePhyLayer represents the physical layer of a nic.</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"> * The BasePhyLayer is directly connected to the mac layer via OMNeT channels and is able to send messages to other physical layers through sub-classing from ChannelAcces.</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment"> * In order to implement a physical layer, subclass the BasePhyLayer and override these methods:</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"> *  - initializeRadio</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"> *  - getAnalogueModelFromName</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"> *  - getDeciderFromName</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment"> *  - createAirFrame</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"> *  - attachSignal</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"> * The BasePhyLayer encapsulates three sub modules:</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"> * The AnalogueModels, which are responsible for simulating the attenuation of received signals, and the Decider, which provides the main functionality of the physical layer like signal classification (noise or not noise) and demodulation (calculating transmission errors).</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"> * Furthermore, the Antenna used for gain calculation is managed by the BasePhyLayer.</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"> * The BasePhyLayer itself is responsible for the OMNeT depended parts of the physical layer which are the following:</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"> * Module initialization:</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"> * - read ned-parameters and initialize module, Decider, AnalogueModels and Antenna</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"> * Message handling:</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"> * - receive messages from mac layer and hand them to the Decider or directly send them to the channel</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"> * - receive AirFrames from the channel, hand them to the AnalogueModels for filtering, simulate delay and transmission duration, hand it to the Decider for evaluation and send received packets to the mac layer</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment"> * - keep track of currently active AirFrames on the channel (see ChannelInfo)</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"> * The actual evaluation of incoming signals is done by the Decider.</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"> * base class ChannelAccess:</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment"> * - provides access to the channel via the ConnectionManager</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"> * base class DeciderToPhyInterface:</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment"> * - interface for the Decider</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment"> * base class MacToPhyInterface:</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment"> * - interface for the Mac</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment"> * @ingroup phyLayer</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"> * @ingroup baseModules</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html">   90</a></span>&#160;<span class="keyword">class </span><a class="code" href="veins_8h.html#a4712e05eeaf6ada031e3059f531bb5de">VEINS_API</a> <a class="code" href="classveins_1_1_base_phy_layer.html">BasePhyLayer</a> : <span class="keyword">public</span> <a class="code" href="classveins_1_1_channel_access.html">ChannelAccess</a>, <span class="keyword">public</span> <a class="code" href="classveins_1_1_decider_to_phy_interface.html">DeciderToPhyInterface</a>, <span class="keyword">public</span> <a class="code" href="classveins_1_1_mac_to_phy_interface.html">MacToPhyInterface</a> {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">protected</span>:</div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a8a57e6161b4310655b3894b0d6739719">   93</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="classveins_1_1_base_phy_layer.html#a8a57e6161b4310655b3894b0d6739719">ParameterMap</a> = std::map&lt;std::string, cMsgPar&gt;; <span class="comment">///&lt; Used at initialisation to pass the parameters to the AnalogueModel and Decider.</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment"></span><span class="comment"></span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">    /** The states of the receiving process for AirFrames.*/</span></div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a64a8641e67ed395fc0aeaca0aa0d3050">   96</a></span>&#160;    <span class="keyword">enum class</span> <a class="code" href="classveins_1_1_base_phy_layer.html#a64a8641e67ed395fc0aeaca0aa0d3050">AirFrameState</a> {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        start_receive = 1, <span class="comment">///&lt; Start of actual receiving process of the AirFrame.</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment"></span>        receiving, <span class="comment">///&lt; AirFrame is being received.</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"></span>        end_receive <span class="comment">///&lt; Receiving process over.</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment"></span>    };</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a9645e727e49f5c8ed7c62a7f9dadf5d3">  102</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="classveins_1_1_base_phy_layer.html#a9645e727e49f5c8ed7c62a7f9dadf5d3">ProtocolIds</a> {</div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a9645e727e49f5c8ed7c62a7f9dadf5d3a3e62f4e8c9017d39b1922ca38f95b905">  103</a></span>&#160;        PROTOCOL_ID_GENERIC = 0,</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    };</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">    /** @brief Defines the scheduling priority of AirFrames.</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">     * AirFrames use a slightly higher priority than normal to ensure channel consistency.</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">     * This means that before anything else happens at a time point t every AirFrame which ended at t has been removed and every AirFrame started at t has been added to the channel.</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#ac5571de9711dc5adda0d4281a6a78f2e">  111</a></span>&#160;    <span class="keyword">static</span> <span class="keywordtype">short</span> <a class="code" href="classveins_1_1_base_phy_layer.html#ac5571de9711dc5adda0d4281a6a78f2e">airFramePriority</a>()</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">return</span> 10;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#af78ba2d5fe5a806587ebb2d8ff1a0de9">  116</a></span>&#160;    <span class="keywordtype">int</span> protocolId = PROTOCOL_ID_GENERIC; <span class="comment">///&lt; The ID of the protocol this phy can transceive.</span></div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a67cd9a9b3216a553feb87e957d1fb08b">  117</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">double</span> noiseFloorValue = 0; <span class="comment">///&lt; Catch-all for all factors negatively impacting SINR (e.g., thermal noise, noise figure, ...)</span></div><div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a1e9441b081777ee4e94306d43d8a41bb">  118</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">double</span> <a class="code" href="classveins_1_1_base_phy_layer.html#a1e9441b081777ee4e94306d43d8a41bb">minPowerLevel</a>; <span class="comment">///&lt; The minimum receive power needed to even attempt decoding a frame.</span></div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#ac6d9da6bfa28bcd14ed4dec62e4d3b52">  119</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="classveins_1_1_base_phy_layer.html#ac6d9da6bfa28bcd14ed4dec62e4d3b52">recordStats</a>; <span class="comment">///&lt; Stores if tracking of statistics (esp. cOutvectors) is enabled.</span></div><div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a07a9938cc0577431182a9ad014ed8e3f">  120</a></span>&#160;<span class="comment"></span>    <a class="code" href="classveins_1_1_channel_info.html">ChannelInfo</a> <a class="code" href="classveins_1_1_base_phy_layer.html#a07a9938cc0577431182a9ad014ed8e3f">channelInfo</a>; <span class="comment">///&lt; Channel info keeps track of received AirFrames and provides information about currently active AirFrames at the channel.</span></div><div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a831c5299d9db7acdd84f73163a960ef0">  121</a></span>&#160;<span class="comment"></span>    std::unique_ptr&lt;Radio&gt; <a class="code" href="classveins_1_1_base_phy_layer.html#a831c5299d9db7acdd84f73163a960ef0">radio</a>; <span class="comment">///&lt; The state machine storing the current radio state (TX, RX, SLEEP).</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment"></span><span class="comment"></span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">     * Shared pointer to the Antenna used for this node.</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">     * Using a shared pointer ensures proper handling of a signal is possible, even after the sender has been destroyed.</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a076d742c168dfe7a299d76cdda61c062">  128</a></span>&#160;    std::shared_ptr&lt;Antenna&gt; <a class="code" href="classveins_1_1_base_phy_layer.html#a076d742c168dfe7a299d76cdda61c062">antenna</a>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a2fe0261ae991b1488cda2b10b2893f53">  130</a></span>&#160;    std::unique_ptr&lt;Decider&gt; <a class="code" href="classveins_1_1_base_phy_layer.html#a2fe0261ae991b1488cda2b10b2893f53">decider</a>; <span class="comment">///&lt; Pointer to the decider module.</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"></span><span class="comment"></span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">     * The analogue models to use which might attenuate or amplify a signal.</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a3a284dfd242861945866bbf7e1812a9a">  135</a></span>&#160;    <a class="code" href="namespaceveins.html#a964364ce7398400296a90e748346ac78">AnalogueModelList</a> <a class="code" href="classveins_1_1_base_phy_layer.html#a3a284dfd242861945866bbf7e1812a9a">analogueModels</a>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">     * The analogue models to use which will only attenuate a signal.</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">     * These models are not applied immediately, but only attached to the signal.</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">     * This enables lazy application of the models.</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a6bce7264e4a4774ab87196337a0bef32">  143</a></span>&#160;    <a class="code" href="namespaceveins.html#a964364ce7398400296a90e748346ac78">AnalogueModelList</a> <a class="code" href="classveins_1_1_base_phy_layer.html#a6bce7264e4a4774ab87196337a0bef32">analogueModelsThresholding</a>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a266ee4e127b1a9eee2df1b9331cba0d4">  145</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classveins_1_1_base_phy_layer.html#a266ee4e127b1a9eee2df1b9331cba0d4">upperLayerIn</a>; <span class="comment">///&lt; The id of the in-data gate from the Mac layer.</span></div><div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a60516bddba6c76c5cc96da734b343836">  146</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">int</span> <a class="code" href="classveins_1_1_base_phy_layer.html#a60516bddba6c76c5cc96da734b343836">upperLayerOut</a>; <span class="comment">///&lt; The id of the out-data gate to the Mac layer.</span></div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a30e6c5e86194913d327adae8d99d2aa7">  147</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">int</span> <a class="code" href="classveins_1_1_base_phy_layer.html#a30e6c5e86194913d327adae8d99d2aa7">upperControlOut</a>; <span class="comment">///&lt; The id of the out-control gate to the Mac layer.</span></div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a9376bd23334704f3f9dbe2958611e98a">  148</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">int</span> <a class="code" href="classveins_1_1_base_phy_layer.html#a9376bd23334704f3f9dbe2958611e98a">upperControlIn</a>; <span class="comment">///&lt; The id of the in-control gate from the Mac layer.</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a787944c6edf3837aab2768a7567cb2c9">  150</a></span>&#160;    cMessage* radioSwitchingOverTimer = <span class="keyword">nullptr</span>; <span class="comment">///&lt; Self message scheduled to the point in time when the switching process of the radio is over.</span></div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a79d3bdb7626753d59b19146cfd851578">  151</a></span>&#160;<span class="comment"></span>    cMessage* txOverTimer = <span class="keyword">nullptr</span>; <span class="comment">///&lt; Self message scheduled to the point in time when the transmission of an AirFrame is over.</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a6000947aef6eecbaa9e3ff8c7e1402fe">  153</a></span>&#160;    <a class="code" href="classveins_1_1_base_world_utility.html">BaseWorldUtility</a>* world = <span class="keyword">nullptr</span>; <span class="comment">///&lt; Pointer to the World Utility, to obtain some global information</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">     * Read the parameters of a XML element and stores them in the passed ParameterMap reference.</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordtype">void</span> getParametersFromXML(cXMLElement* xmlData, <a class="code" href="classveins_1_1_base_phy_layer.html#a8a57e6161b4310655b3894b0d6739719">ParameterMap</a>&amp; outputMap);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">     * Initialize the AnalogueModels with the data from the passed XML-config data.</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordtype">void</span> initializeAnalogueModels(cXMLElement* xmlConfig);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">     * Initialize the Decider with the data from the passed XML-config data.</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordtype">void</span> initializeDecider(cXMLElement* xmlConfig);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">     * Initialize the Antenna with the data from the passed XML-config data.</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordtype">void</span> initializeAntenna(cXMLElement* xmlConfig);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="keyword">protected</span>:<span class="comment"></span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">     * Read and return the parameter with the passed name.</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">     * If the parameter couldn&#39;t be found the value of defaultValue is returned.</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">     * @param parName The name of the ned-parameter</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">     * @param defaultValue The value to be returned if the parameter couldn&#39;t be found</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    T readPar(<span class="keyword">const</span> <span class="keywordtype">char</span>* parName, <span class="keyword">const</span> T defaultValue);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">     * Initialize members and associated objects according to parameterization.</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordtype">void</span> initialize(<span class="keywordtype">int</span> stage) <span class="keyword">override</span>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">     * Process received messages and pass to specific handlers.</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">     * @see handleSelfMessage</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">     * @see handleUpperMessage</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">     * @see handleUpperControlMessage</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">     * @see handleAirFrame</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordtype">void</span> handleMessage(cMessage* msg) <span class="keyword">override</span>;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">     * Create and return the radio class to use.</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keyword">virtual</span> std::unique_ptr&lt;Radio&gt; initializeRadio();</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">     * Create and return an instance of the AnalogueModel with the</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">     * specified name.</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">     * This method is used by the BasePhyLayer during initialisation to load the AnalogueModels which has been specified in the NED file.</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a2dceabc7af52fa78ce2b973675e19e38">  214</a></span>&#160;    <span class="keyword">virtual</span> std::unique_ptr&lt;AnalogueModel&gt; <a class="code" href="classveins_1_1_base_phy_layer.html#a2dceabc7af52fa78ce2b973675e19e38">getAnalogueModelFromName</a>(std::string name, <a class="code" href="classveins_1_1_base_phy_layer.html#a8a57e6161b4310655b3894b0d6739719">ParameterMap</a>&amp; params)</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">     * Create and return an instance of the Decider with the specified name.</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">     * This method is used by the BasePhyLayer during initialisation to load the Decider which has been specified in the ned file.</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keyword">virtual</span> std::unique_ptr&lt;Decider&gt; getDeciderFromName(std::string name, <a class="code" href="classveins_1_1_base_phy_layer.html#a8a57e6161b4310655b3894b0d6739719">ParameterMap</a>&amp; params);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">     * Create and return an instance of the Antenna with the specified name as a shared pointer.</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">     * This method is called during initialization to load the Antenna specified.</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">     * If no special antenna has been specified, an object of the base Antenna class is instantiated, representing an isotropic antenna.</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keyword">virtual</span> std::shared_ptr&lt;Antenna&gt; getAntennaFromName(std::string name, <a class="code" href="classveins_1_1_base_phy_layer.html#a8a57e6161b4310655b3894b0d6739719">ParameterMap</a>&amp; params);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">     * Creates and returns an instance of the SampledAntenna1D class as a shared pointer.</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">     * The given parameters (i.e. samples and optional randomness parameters) are evaluated and passed to the antenna&#39;s constructor.</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keyword">virtual</span> std::shared_ptr&lt;Antenna&gt; initializeSampledAntenna1D(<a class="code" href="classveins_1_1_base_phy_layer.html#a8a57e6161b4310655b3894b0d6739719">ParameterMap</a>&amp; params);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">     * @name Handle Messages</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">     **/</span><span class="comment"></span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">    /*@{ */</span><span class="comment"></span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">     * Handle messages received from the channel.</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">     * @see handleAirFrameStartReceive</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">     * @see handleAirFrameReceiving</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">     * @see handleAirFrameEndReceive</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> handleAirFrame(AirFrame* frame);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">     * Handle messages received from the upper layer and start transmitting them.</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> handleUpperMessage(cMessage* msg);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">     * Handle messages received from the upper layer through the control gate.</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> handleUpperControlMessage(cMessage* msg);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">     * Handle self scheduled messages.</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> handleSelfMessage(cMessage* msg);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">     * Handle incoming AirFrames with the state AirFrameState::start_receive.</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> handleAirFrameStartReceive(AirFrame* msg);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">     * Handle incoming AirFrames with the state AirFrameState::receiving.</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> handleAirFrameReceiving(AirFrame* msg);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">     * Handle incoming AirFrames with the state AirFrameState::end_receive.</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> handleAirFrameEndReceive(AirFrame* msg);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">    /*@}*/</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">     * @name Send Messages</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">     **/</span><span class="comment"></span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">    /*@{ */</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">     * Send the passed control message to the upper layer.</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordtype">void</span> sendControlMessageUp(cMessage* msg);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">     * Send the passed MacPkt to the upper layer.</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordtype">void</span> sendMacPktUp(cMessage* pkt);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">     * Send the passed AirFrame to the channel</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordtype">void</span> sendMessageDown(AirFrame* pkt);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">     * Schedule self message to passed point in time.</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordtype">void</span> sendSelfMessage(cMessage* msg, simtime_t_cref time);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">    /*@}*/</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">     * Create a protocol-specific AirFrame</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keyword">virtual</span> std::unique_ptr&lt;AirFrame&gt; createAirFrame(cPacket* macPkt);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">     * Create a signal corresponding to the received control information.</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00321"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a5e9c914412f6eae586f5a41d5308a7f5">  321</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classveins_1_1_base_phy_layer.html#a5e9c914412f6eae586f5a41d5308a7f5">attachSignal</a>(AirFrame* airFrame, cObject* ctrlInfo)</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Not implemented in the BasePhyLayer. Override in subclass.&quot;</span>);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    }</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">     * Encapsulate messages from the upper layer into an AirFrame and set all necessary attributes.</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keyword">virtual</span> std::unique_ptr&lt;AirFrame&gt; encapsMsg(cPacket* msg);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">     * Filter the passed AirFrame&#39;s Signal by every registered AnalogueModel.</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">     * Moreover, the antenna gains are calculated and added to the signal.</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">     * @note Only models from analogueModels are applied. Those referenced in analogueModelsThresholding are passed to the Signal to enable more efficient handling.</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">     * @see analogueModels</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">     * @see analogueModelsThresholding</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> filterSignal(AirFrame* frame);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">     * Called when the switching process of the Radio is finished.</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">     * The default implementation sends a confirmation message to the mac layer.</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">     * @see MacToPhyInterface::RADIO_SWITCHING_OVER</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> finishRadioSwitching();</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">     * Return the identifier of the protocol this phy uses to send messages.</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">     * @return An integer representing the identifier of the used protocol.</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#ae32956b372dbacefb9c97ec6f16ffe91">  356</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classveins_1_1_base_phy_layer.html#ae32956b372dbacefb9c97ec6f16ffe91">myProtocolId</a>()</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">return</span> protocolId;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">     * Return whether the protocol with the passed identifier is decodeable by the decider.</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">     * Default implementation checks only if the passed id is the same as the one returned by &quot;myProtocolId()&quot;.</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">     * @param id The identifier of the protocol of an AirFrame.</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">     * @return true if the passed protocol id is supported by this phy.</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">     * layer.</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#ae460c42343d21773092cda8eb36cb500">  370</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classveins_1_1_base_phy_layer.html#ae460c42343d21773092cda8eb36cb500">isKnownProtocolId</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>)</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keywordflow">return</span> <span class="keywordtype">id</span> == myProtocolId();</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    }</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">     * The underlying spectrum (definition of interesting freqs) for all signals</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00378"></a><span class="lineno"><a class="line" href="classveins_1_1_base_phy_layer.html#a31366f6d86c163087d2f64c8ae771d8f">  378</a></span>&#160;    <a class="code" href="classveins_1_1_spectrum.html">Spectrum</a> <a class="code" href="classveins_1_1_base_phy_layer.html#a31366f6d86c163087d2f64c8ae771d8f">overallSpectrum</a>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    ~<a class="code" href="classveins_1_1_base_phy_layer.html">BasePhyLayer</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">    /** Call the deciders finish method. */</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordtype">void</span> finish() <span class="keyword">override</span>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="comment">// ---------MacToPhyInterface implementation-----------</span><span class="comment"></span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">     * @name MacToPhyInterface implementation</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">     * @brief These methods implement the MacToPhyInterface.</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">     **/</span><span class="comment"></span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">    /*@{ */</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">     * Return the current state the radio is in.</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">     * @see RadioState for possible values.</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordtype">int</span> getRadioState() <span class="keyword">override</span>;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">     * Tell the BasePhyLayer to switch to the specified radio state.</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">     * The switching process can take some time depending on the specified switching times in the ned file.</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">     * @return Switching time from the current RadioState to the new RadioState or -1 if a state change is already in progress.</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    simtime_t setRadioState(<span class="keywordtype">int</span> rs) <span class="keyword">override</span>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">    /** Set the channel currently used by the radio. */</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordtype">void</span> setCurrentRadioChannel(<span class="keywordtype">int</span> newRadioChannel) <span class="keyword">override</span>;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">    /** Return the channel currently used by the radio. */</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordtype">int</span> getCurrentRadioChannel() <span class="keyword">override</span>;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">    /** Return the number of channels available on this radio. */</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordtype">int</span> getNbRadioChannels() <span class="keyword">override</span>;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">    /*@}*/</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="comment">// ---------DeciderToPhyInterface implementation-----------</span><span class="comment"></span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">     * @name DeciderToPhyInterface implementation</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">     * @brief These methods implement the DeciderToPhyInterface.</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">     **/</span><span class="comment"></span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">    /*@{ */</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">     * Fill the given AirFrameVector with all AirFrames that intersect with the given time interval.</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordtype">void</span> getChannelInfo(simtime_t_cref from, simtime_t_cref to, <a class="code" href="classveins_1_1_decider_to_phy_interface.html#ab8300ae6f15749c94f4830adc660e307">AirFrameVector</a>&amp; out) <span class="keyword">override</span>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">     * Return noise floor level (in mW).</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordtype">double</span> getNoiseFloorValue() <span class="keyword">override</span>;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">     * Send the given message to via the control gate to the mac.</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">     * @see upperControlOut</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordtype">void</span> sendControlMsgToMac(cMessage* msg) <span class="keyword">override</span>;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">     * Pass the given packet along with the result up to the mac.</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordtype">void</span> sendUp(AirFrame* packet, <a class="code" href="classveins_1_1_decider_result.html">DeciderResult</a>* result) <span class="keyword">override</span>;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">     * Return a pointer to the simulations world-utility-module.</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <a class="code" href="classveins_1_1_base_world_utility.html">BaseWorldUtility</a>* getWorldUtility() <span class="keyword">override</span>;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">     * Record a double into the scalar result file.</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">     * Implements the method from DeciderToPhyInterface, method-calls are forwarded to OMNeT-method &#39;recordScalar&#39;.</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">     * @see cComponent::recordScalar</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordtype">void</span> recordScalar(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">double</span> value, <span class="keyword">const</span> <span class="keywordtype">char</span>* unit = <span class="keyword">nullptr</span>) <span class="keyword">override</span>;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">    /*@}*/</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;};</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;} <span class="comment">// namespace veins</span></div><div class="ttc" id="_mac_to_phy_interface_8h_html"><div class="ttname"><a href="_mac_to_phy_interface_8h.html">MacToPhyInterface.h</a></div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_a076d742c168dfe7a299d76cdda61c062"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#a076d742c168dfe7a299d76cdda61c062">veins::BasePhyLayer::antenna</a></div><div class="ttdeci">std::shared_ptr&lt; Antenna &gt; antenna</div><div class="ttdoc">Shared pointer to the Antenna used for this node. </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:128</div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_a5e9c914412f6eae586f5a41d5308a7f5"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#a5e9c914412f6eae586f5a41d5308a7f5">veins::BasePhyLayer::attachSignal</a></div><div class="ttdeci">virtual void attachSignal(AirFrame *airFrame, cObject *ctrlInfo)</div><div class="ttdoc">Create a signal corresponding to the received control information. </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:321</div></div>
<div class="ttc" id="classveins_1_1_mac_to_phy_interface_html"><div class="ttname"><a href="classveins_1_1_mac_to_phy_interface.html">veins::MacToPhyInterface</a></div><div class="ttdoc">Defines the methods provided by the phy to the mac layer. </div><div class="ttdef"><b>Definition:</b> MacToPhyInterface.h:39</div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_ac6d9da6bfa28bcd14ed4dec62e4d3b52"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#ac6d9da6bfa28bcd14ed4dec62e4d3b52">veins::BasePhyLayer::recordStats</a></div><div class="ttdeci">bool recordStats</div><div class="ttdoc">Stores if tracking of statistics (esp. cOutvectors) is enabled. </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:119</div></div>
<div class="ttc" id="classveins_1_1_decider_to_phy_interface_html"><div class="ttname"><a href="classveins_1_1_decider_to_phy_interface.html">veins::DeciderToPhyInterface</a></div><div class="ttdoc">This class is the interface for a Decider to the BasePhyLayer. </div><div class="ttdef"><b>Definition:</b> DeciderToPhyInterface.h:56</div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_a2fe0261ae991b1488cda2b10b2893f53"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#a2fe0261ae991b1488cda2b10b2893f53">veins::BasePhyLayer::decider</a></div><div class="ttdeci">std::unique_ptr&lt; Decider &gt; decider</div><div class="ttdoc">Pointer to the decider module. </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:130</div></div>
<div class="ttc" id="namespaceveins_html"><div class="ttname"><a href="namespaceveins.html">veins</a></div><div class="ttdoc">Veins - The open source vehicular network simulation framework. </div><div class="ttdef"><b>Definition:</b> BaseConnectionManager.h:33</div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_a60516bddba6c76c5cc96da734b343836"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#a60516bddba6c76c5cc96da734b343836">veins::BasePhyLayer::upperLayerOut</a></div><div class="ttdeci">int upperLayerOut</div><div class="ttdoc">The id of the out-data gate to the Mac layer. </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:146</div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_a64a8641e67ed395fc0aeaca0aa0d3050"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#a64a8641e67ed395fc0aeaca0aa0d3050">veins::BasePhyLayer::AirFrameState</a></div><div class="ttdeci">AirFrameState</div><div class="ttdoc">The states of the receiving process for AirFrames. </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:96</div></div>
<div class="ttc" id="classveins_1_1_channel_info_html"><div class="ttname"><a href="classveins_1_1_channel_info.html">veins::ChannelInfo</a></div><div class="ttdoc">This class is used by the BasePhyLayer to keep track of the AirFrames on the channel. </div><div class="ttdef"><b>Definition:</b> ChannelInfo.h:66</div></div>
<div class="ttc" id="classveins_1_1_spectrum_html"><div class="ttname"><a href="classveins_1_1_spectrum.html">veins::Spectrum</a></div><div class="ttdef"><b>Definition:</b> Spectrum.h:38</div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_a3a284dfd242861945866bbf7e1812a9a"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#a3a284dfd242861945866bbf7e1812a9a">veins::BasePhyLayer::analogueModels</a></div><div class="ttdeci">AnalogueModelList analogueModels</div><div class="ttdoc">The analogue models to use which might attenuate or amplify a signal. </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:135</div></div>
<div class="ttc" id="_channel_access_8h_html"><div class="ttname"><a href="_channel_access_8h.html">ChannelAccess.h</a></div></div>
<div class="ttc" id="namespaceveins_html_a964364ce7398400296a90e748346ac78"><div class="ttname"><a href="namespaceveins.html#a964364ce7398400296a90e748346ac78">veins::AnalogueModelList</a></div><div class="ttdeci">std::vector&lt; std::unique_ptr&lt; AnalogueModel &gt; &gt; AnalogueModelList</div><div class="ttdef"><b>Definition:</b> AnalogueModel.h:82</div></div>
<div class="ttc" id="veins_8h_html_a4712e05eeaf6ada031e3059f531bb5de"><div class="ttname"><a href="veins_8h.html#a4712e05eeaf6ada031e3059f531bb5de">VEINS_API</a></div><div class="ttdeci">#define VEINS_API</div><div class="ttdef"><b>Definition:</b> veins.h:58</div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_a8a57e6161b4310655b3894b0d6739719"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#a8a57e6161b4310655b3894b0d6739719">veins::BasePhyLayer::ParameterMap</a></div><div class="ttdeci">std::map&lt; std::string, cMsgPar &gt; ParameterMap</div><div class="ttdoc">Used at initialisation to pass the parameters to the AnalogueModel and Decider. </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:93</div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_ae460c42343d21773092cda8eb36cb500"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#ae460c42343d21773092cda8eb36cb500">veins::BasePhyLayer::isKnownProtocolId</a></div><div class="ttdeci">virtual bool isKnownProtocolId(int id)</div><div class="ttdoc">Return whether the protocol with the passed identifier is decodeable by the decider. </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:370</div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_a30e6c5e86194913d327adae8d99d2aa7"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#a30e6c5e86194913d327adae8d99d2aa7">veins::BasePhyLayer::upperControlOut</a></div><div class="ttdeci">int upperControlOut</div><div class="ttdoc">The id of the out-control gate to the Mac layer. </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:147</div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_ac5571de9711dc5adda0d4281a6a78f2e"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#ac5571de9711dc5adda0d4281a6a78f2e">veins::BasePhyLayer::airFramePriority</a></div><div class="ttdeci">static short airFramePriority()</div><div class="ttdoc">Defines the scheduling priority of AirFrames. </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:111</div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_a9376bd23334704f3f9dbe2958611e98a"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#a9376bd23334704f3f9dbe2958611e98a">veins::BasePhyLayer::upperControlIn</a></div><div class="ttdeci">int upperControlIn</div><div class="ttdoc">The id of the in-control gate from the Mac layer. </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:148</div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_ae32956b372dbacefb9c97ec6f16ffe91"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#ae32956b372dbacefb9c97ec6f16ffe91">veins::BasePhyLayer::myProtocolId</a></div><div class="ttdeci">virtual int myProtocolId()</div><div class="ttdoc">Return the identifier of the protocol this phy uses to send messages. </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:356</div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html">veins::BasePhyLayer</a></div><div class="ttdoc">The BasePhyLayer represents the physical layer of a nic. </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:90</div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_a831c5299d9db7acdd84f73163a960ef0"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#a831c5299d9db7acdd84f73163a960ef0">veins::BasePhyLayer::radio</a></div><div class="ttdeci">std::unique_ptr&lt; Radio &gt; radio</div><div class="ttdoc">The state machine storing the current radio state (TX, RX, SLEEP). </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:121</div></div>
<div class="ttc" id="veins_8h_html"><div class="ttname"><a href="veins_8h.html">veins.h</a></div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_a9645e727e49f5c8ed7c62a7f9dadf5d3"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#a9645e727e49f5c8ed7c62a7f9dadf5d3">veins::BasePhyLayer::ProtocolIds</a></div><div class="ttdeci">ProtocolIds</div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:102</div></div>
<div class="ttc" id="_decider_to_phy_interface_8h_html"><div class="ttname"><a href="_decider_to_phy_interface_8h.html">DeciderToPhyInterface.h</a></div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_a31366f6d86c163087d2f64c8ae771d8f"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#a31366f6d86c163087d2f64c8ae771d8f">veins::BasePhyLayer::overallSpectrum</a></div><div class="ttdeci">Spectrum overallSpectrum</div><div class="ttdoc">The underlying spectrum (definition of interesting freqs) for all signals. </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:378</div></div>
<div class="ttc" id="classveins_1_1_channel_access_html"><div class="ttname"><a href="classveins_1_1_channel_access.html">veins::ChannelAccess</a></div><div class="ttdoc">Basic class for all physical layers, please don&amp;#39;t touch!! </div><div class="ttdef"><b>Definition:</b> ChannelAccess.h:64</div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_a6bce7264e4a4774ab87196337a0bef32"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#a6bce7264e4a4774ab87196337a0bef32">veins::BasePhyLayer::analogueModelsThresholding</a></div><div class="ttdeci">AnalogueModelList analogueModelsThresholding</div><div class="ttdoc">The analogue models to use which will only attenuate a signal. </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:143</div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_a1e9441b081777ee4e94306d43d8a41bb"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#a1e9441b081777ee4e94306d43d8a41bb">veins::BasePhyLayer::minPowerLevel</a></div><div class="ttdeci">double minPowerLevel</div><div class="ttdoc">The minimum receive power needed to even attempt decoding a frame. </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:118</div></div>
<div class="ttc" id="classveins_1_1_base_world_utility_html"><div class="ttname"><a href="classveins_1_1_base_world_utility.html">veins::BaseWorldUtility</a></div><div class="ttdoc">Provides information and utility methods for the whole simulation. </div><div class="ttdef"><b>Definition:</b> BaseWorldUtility.h:40</div></div>
<div class="ttc" id="_channel_info_8h_html"><div class="ttname"><a href="_channel_info_8h.html">ChannelInfo.h</a></div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_a2dceabc7af52fa78ce2b973675e19e38"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#a2dceabc7af52fa78ce2b973675e19e38">veins::BasePhyLayer::getAnalogueModelFromName</a></div><div class="ttdeci">virtual std::unique_ptr&lt; AnalogueModel &gt; getAnalogueModelFromName(std::string name, ParameterMap &amp;params)</div><div class="ttdoc">Create and return an instance of the AnalogueModel with the specified name. </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:214</div></div>
<div class="ttc" id="classveins_1_1_decider_result_html"><div class="ttname"><a href="classveins_1_1_decider_result.html">veins::DeciderResult</a></div><div class="ttdoc">A class to represent the result of a processed packet (that is not noise) by the Decider. </div><div class="ttdef"><b>Definition:</b> Decider.h:46</div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_a266ee4e127b1a9eee2df1b9331cba0d4"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#a266ee4e127b1a9eee2df1b9331cba0d4">veins::BasePhyLayer::upperLayerIn</a></div><div class="ttdeci">int upperLayerIn</div><div class="ttdoc">The id of the in-data gate from the Mac layer. </div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:145</div></div>
<div class="ttc" id="_antenna_8h_html"><div class="ttname"><a href="_antenna_8h.html">Antenna.h</a></div></div>
<div class="ttc" id="classveins_1_1_decider_to_phy_interface_html_ab8300ae6f15749c94f4830adc660e307"><div class="ttname"><a href="classveins_1_1_decider_to_phy_interface.html#ab8300ae6f15749c94f4830adc660e307">veins::DeciderToPhyInterface::AirFrameVector</a></div><div class="ttdeci">std::list&lt; AirFrame * &gt; AirFrameVector</div><div class="ttdoc">Type for container of AirFrames. </div><div class="ttdef"><b>Definition:</b> DeciderToPhyInterface.h:63</div></div>
<div class="ttc" id="classveins_1_1_base_phy_layer_html_a07a9938cc0577431182a9ad014ed8e3f"><div class="ttname"><a href="classveins_1_1_base_phy_layer.html#a07a9938cc0577431182a9ad014ed8e3f">veins::BasePhyLayer::channelInfo</a></div><div class="ttdeci">ChannelInfo channelInfo</div><div class="ttdoc">Channel info keeps track of received AirFrames and provides information about currently active AirFra...</div><div class="ttdef"><b>Definition:</b> BasePhyLayer.h:120</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_17ef6c0fecec40d654af52c879dcf6bd.html">veins</a></li><li class="navelem"><a class="el" href="dir_7ed75e2b1ee1c6cbf8e17dfb79841f91.html">base</a></li><li class="navelem"><a class="el" href="dir_af1514ba3c68d24357bf98a7604ab18c.html">phyLayer</a></li><li class="navelem"><a class="el" href="_base_phy_layer_8h.html">BasePhyLayer.h</a></li>
    <li class="footer">Generated on Thu Nov 12 2020 22:51:45 for Veins by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
